# 백준 문제 풀이 - 분수 찾기

## 문제 조건
* 입력되는 수는 1 이상

## 패턴 분석
다음과 같은 패턴으로 분수가 증가한다:

```
1 = 1/1     
2 = 1/2 (전환 후 B에 1을 더함 - 전환점의 기준이 A가 1일 경우)    
3 = 2/1 (B에서 1을 빼고 A에 1을 더함)
4 = 3/1 (B가 1이 되었기 때문에 전환 후 A에 1을 더함 - 전환점의 기준이 B가 1일 경우)
5 = 2/2 (A에서 1을 빼고 B에 1을 더함)
```

## 나의 문제 풀이 

### 글로 코드 작성
변수 3개 선언:
* A = 1
* B = 1 
* TP = True

반복문 N-1번만큼 반복:

1. TP가 True라면
   * A 변수가 1이면: TP = False, B 변수에 +1
   * A 변수가 1 초과면: A 변수에 -1 후 B 변수에 +1

2. TP가 False라면
   * B 변수가 1이면: TP = True, A 변수에 +1  
   * B 변수가 1 초과면: B 변수에 -1 후 A 변수에 +1

### 구현 코드
(자바 언어를 너무 오랜만에 사용하여 코드 작성은 gpt로 진행했다)

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

public class Main {
    public static void main(String[] args) throws IOException {
        // 입력 받기
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int N = Integer.parseInt(br.readLine());

        // 초기화
        int A = 1, B = 1;
        boolean TP = true;

        // N-1번 반복
        for (int i = 1; i < N; i++) {
            if (TP) {
                if (A == 1) {
                    TP = false;
                    B++;
                } else {
                    A--;
                    B++;
                }
            } else {
                if (B == 1) {
                    TP = true;
                    A++;
                } else {
                    B--;
                    A++;
                }
            }
        }

        // 결과 출력
        System.out.println(A + "/" + B);
    }
}
```

간단한 알고리즘같은데 푸는데 1시간이 넘게 걸렸다.

## 문제 해결 과정 돌아보기

이 문제는 백준에서 수학 카테고리로 분류가 되어있다. 하지만 나는 수학적 지식을 동원하여 문제를 풀진 않았다.

현재 코딩을 안해서 문제해결 능력이 현저히 떨어진 상태이다.

내가 오늘 이 문제를 풀면서 가장 핵심으로 작용한 사고방식은:

1. 입력값에 대한 출력값을 연속적으로 나열하고
2. 출력값 사이에 어떤 변화가 생겼는지 글자로 적었다
3. 특정 시점에서 선형적인 규칙성이 깨지는 구간에, 어떤 이유에서 규칙이 변화하였는지를 생각했다
4. 그렇게 해서 TP, 전환점이라는 것을 생각해 냈고, 전환점이 특정 시점에서 바뀌고, 각 전환점(True, False)에 대한 코드를 각각 작성했다

## 더 효율적인 방법 - 수학적 접근

등차수열이라는 수학적 개념을 활용하면 더 효율적으로 해결할 수 있다. (까먹음)

### 대각선 패턴
분수들은 대각선 방향으로 다음과 같은 패턴을 보인다:
* 대각선 1: 1/1 (1개)
* 대각선 2: 1/2, 2/1 (2개)
* 대각선 3: 3/1, 2/2, 1/3 (3개)

각 대각선의 분수 개수는 대각선 번호와 같다.

### 수학적 공식
* 대각선 번호 찾기: `n * (n + 1) / 2 >= X`를 만족하는 최소 n
* 대각선 내 위치: `X - (n - 1) * n / 2`번째
* 홀수 대각선: 분모 감소, 분자 증가
* 짝수 대각선: 분모 증가, 분자 감소

### 성능 비교

| 접근 방식 | 시간 복잡도 | 특징 |
|----------|------------|------|
| 단순 반복문 | O(X) | X가 큰 경우 비효율적 |
| 수학적 접근 | O(√X) | 입력이 커도 빠른 계산 가능 |

## 배운 점
1. 등차수열의 합 공식: `S = n * (n + 1) / 2`의 활용
2. 지그재그 패턴에서 홀수/짝수 대각선에 따른 분모와 분자의 증감 규칙
3. 문제 해결을 위한 수학적 접근의 중요성

## 내 방식대로의 풀이
 먼저 등차수열의 합 공식을 이용했을때, 입력값 X는,  
 출력값(분수)가 속한 대각선 까지의 합(등차수열 공식 활용)  
 보다 반드시 작아야 할것이다.  
 이때, 등차수열 공식을 풀어서 n을 구해야 한다. 이때n이 대각선 번호가 된다.  
 이유 : 대각선 번호에 따라 1,2,3,4...n 으로 대각선 안의 분수 갯수가 정해짐  
 n을 구하는 방법. 즉 지그재그로 X번째에 속한 분수가 몇번째의 대각선에 속하는지를 구하려면,  
 n * (n + 1) / 2 >= X  
 처음의 글을 수식으로 나타냈을때, 이를 만족하는 최솟값을 찾는것이다.   
 n * (n + 1) / 2  
 위 수식은 등차수열의 합이다. 값이 1, 3, 6, 10.. 이렇게 널뛰기 하듯이 변할것인데, x가 그중 어디에 속할지를 생각해보는것이다.  
 그렇게하여 n을 구했으면, n-1번째 대각선의 번호에 등차수열 공식을 이용해서 이전 대각선까지의 분수 갯수 합을 구하고  
 X번째 까지의 분수 갯수 합을 구하여 빼주면 X번째 분수가 속한 대각선에서 해당 분수가 어느 위치에 있는지 알 수 있다.  
 예를들어, 4번째 대각선이 이전 대각선이라면 이전대각선까지는 10개의 분수가 있을것이고 X가 12라고 한다면  
 현재 대각선에서 대각선 번호의 홀짝 여부에 따라 2번째 위치에 있다는 것이 된다.  
